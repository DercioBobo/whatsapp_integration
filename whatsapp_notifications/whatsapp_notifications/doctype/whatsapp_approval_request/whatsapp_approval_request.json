{
    "actions": [],
    "allow_rename": 0,
    "autoname": "WAAPPR-.#####",
    "creation": "2024-01-01 00:00:00.000000",
    "doctype": "DocType",
    "engine": "InnoDB",
    "field_order": [
        "status",
        "approval_template",
        "section_reference",
        "reference_doctype",
        "reference_name",
        "column_break_reference",
        "message_log",
        "section_recipient",
        "recipient_phone",
        "formatted_phone",
        "column_break_recipient",
        "recipient_name",
        "section_timing",
        "sent_at",
        "expires_at",
        "column_break_timing",
        "responded_at",
        "section_response",
        "response_option",
        "response_text",
        "column_break_response",
        "response_from",
        "section_processing",
        "processed",
        "action_executed",
        "column_break_processing",
        "error_message"
    ],
    "fields": [
        {
            "fieldname": "status",
            "fieldtype": "Select",
            "in_list_view": 1,
            "in_standard_filter": 1,
            "label": "Status",
            "options": "Pending\nApproved\nRejected\nExpired\nCancelled\nError",
            "default": "Pending",
            "reqd": 1
        },
        {
            "fieldname": "approval_template",
            "fieldtype": "Link",
            "in_list_view": 1,
            "in_standard_filter": 1,
            "label": "Approval Template",
            "options": "WhatsApp Approval Template",
            "reqd": 1
        },
        {
            "fieldname": "section_reference",
            "fieldtype": "Section Break",
            "label": "Document Reference"
        },
        {
            "fieldname": "reference_doctype",
            "fieldtype": "Link",
            "in_standard_filter": 1,
            "label": "Reference DocType",
            "options": "DocType",
            "reqd": 1
        },
        {
            "fieldname": "reference_name",
            "fieldtype": "Dynamic Link",
            "in_list_view": 1,
            "label": "Reference Name",
            "options": "reference_doctype",
            "reqd": 1
        },
        {
            "fieldname": "column_break_reference",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "message_log",
            "fieldtype": "Link",
            "label": "Message Log",
            "options": "WhatsApp Message Log",
            "read_only": 1,
            "description": "Reference to the sent WhatsApp message"
        },
        {
            "fieldname": "section_recipient",
            "fieldtype": "Section Break",
            "label": "Recipient"
        },
        {
            "fieldname": "recipient_phone",
            "fieldtype": "Data",
            "in_list_view": 1,
            "label": "Recipient Phone",
            "reqd": 1,
            "description": "Original phone number"
        },
        {
            "fieldname": "formatted_phone",
            "fieldtype": "Data",
            "label": "Formatted Phone",
            "read_only": 1,
            "description": "Phone number formatted for matching incoming responses"
        },
        {
            "fieldname": "column_break_recipient",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "recipient_name",
            "fieldtype": "Data",
            "label": "Recipient Name",
            "read_only": 1
        },
        {
            "fieldname": "section_timing",
            "fieldtype": "Section Break",
            "label": "Timing"
        },
        {
            "fieldname": "sent_at",
            "fieldtype": "Datetime",
            "label": "Sent At",
            "read_only": 1
        },
        {
            "fieldname": "expires_at",
            "fieldtype": "Datetime",
            "label": "Expires At",
            "read_only": 1
        },
        {
            "fieldname": "column_break_timing",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "responded_at",
            "fieldtype": "Datetime",
            "label": "Responded At",
            "read_only": 1
        },
        {
            "fieldname": "section_response",
            "fieldtype": "Section Break",
            "label": "Response Details",
            "collapsible": 1,
            "collapsible_depends_on": "eval:!doc.response_option"
        },
        {
            "fieldname": "response_option",
            "fieldtype": "Int",
            "label": "Response Option",
            "read_only": 1,
            "description": "The option number selected by the user"
        },
        {
            "fieldname": "response_text",
            "fieldtype": "Data",
            "label": "Response Text",
            "read_only": 1,
            "description": "Raw response text from the user"
        },
        {
            "fieldname": "column_break_response",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "response_from",
            "fieldtype": "Data",
            "label": "Response From",
            "read_only": 1,
            "description": "Phone number that sent the response"
        },
        {
            "fieldname": "section_processing",
            "fieldtype": "Section Break",
            "label": "Processing",
            "collapsible": 1
        },
        {
            "default": "0",
            "fieldname": "processed",
            "fieldtype": "Check",
            "label": "Processed",
            "read_only": 1,
            "description": "Whether the action has been executed"
        },
        {
            "fieldname": "action_executed",
            "fieldtype": "Data",
            "label": "Action Executed",
            "read_only": 1,
            "description": "Description of the action that was executed"
        },
        {
            "fieldname": "column_break_processing",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "error_message",
            "fieldtype": "Small Text",
            "label": "Error Message",
            "read_only": 1,
            "description": "Error details if action failed"
        }
    ],
    "in_create": 1,
    "index_web_pages_for_search": 0,
    "links": [],
    "modified": "2024-01-01 00:00:00.000000",
    "modified_by": "Administrator",
    "module": "WhatsApp Notifications",
    "name": "WhatsApp Approval Request",
    "naming_rule": "Expression (old style)",
    "owner": "Administrator",
    "permissions": [
        {
            "email": 1,
            "export": 1,
            "print": 1,
            "read": 1,
            "report": 1,
            "role": "System Manager",
            "share": 1,
            "write": 1
        },
        {
            "export": 1,
            "read": 1,
            "report": 1,
            "role": "All"
        }
    ],
    "quick_entry": 0,
    "search_fields": "reference_name,recipient_phone,status",
    "sort_field": "creation",
    "sort_order": "DESC",
    "track_changes": 1
}
